{"ast":null,"code":"import api, { setCSRFToken } from './api';\nexport const authService = {\n  login: async credentials => {\n    const response = await api.post('/auth/login/', credentials);\n\n    // Salva o CSRF token retornado do login\n    if (response.data.csrf) {\n      setCSRFToken(response.data.csrf);\n    }\n    return response.data;\n  },\n  logout: async () => {\n    const response = await api.post('/auth/logout/');\n    setCSRFToken(null); // Limpa o token no logout\n    return response.data;\n  },\n  checkAuth: async () => {\n    try {\n      const response = await api.get('/auth/check-auth/');\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  },\n  changePassword: async passwords => {\n    const response = await api.post('/auth/change-password/', passwords);\n    return response.data;\n  },\n  getProfile: async () => {\n    const response = await api.get('/auth/profile/');\n    return response.data;\n  },\n  listUsers: async () => {\n    const response = await api.get('/auth/users/');\n    return response.data;\n  },\n  togglePermission: async (userId, permission) => {\n    const response = await api.post(`/auth/users/${userId}/toggle-permission/`, {\n      perm: permission\n    });\n    return response.data;\n  }\n};\n\n// Serviços para telas protegidas\nexport const screenServices = {\n  tela1: async () => {\n    const response = await api.get('/telas/tela1/');\n    return response.data;\n  },\n  tela2: async () => {\n    const response = await api.get('/telas//tela2/');\n    return response.data;\n  },\n  tela3: async () => {\n    const response = await api.get('/tela3/');\n    return response.data;\n  },\n  suport: async () => {\n    const response = await api.get('/suport/');\n    return response.data;\n  },\n  empresas: {\n    list: async () => {\n      const response = await api.get('/empresas/');\n      return response.data;\n    },\n    create: async data => {\n      const response = await api.post('/empresas/', data);\n      return response.data;\n    },\n    update: async (id, data) => {\n      const response = await api.put(`/empresas/${id}/`, data);\n      return response.data;\n    },\n    delete: async id => {\n      const response = await api.delete(`/empresas/${id}/`);\n      return response.data;\n    }\n  }\n};","map":{"version":3,"names":["api","setCSRFToken","authService","login","credentials","response","post","data","csrf","logout","checkAuth","get","error","changePassword","passwords","getProfile","listUsers","togglePermission","userId","permission","perm","screenServices","tela1","tela2","tela3","suport","empresas","list","create","update","id","put","delete"],"sources":["/home/nbreier/Documents/Projects/Faculdade/Contabil/react-auth-frontend/src/services/auth.js"],"sourcesContent":["import api, { setCSRFToken } from './api';\n\nexport const authService = {\n  login: async (credentials) => {\n    const response = await api.post('/auth/login/', credentials);\n    \n    // Salva o CSRF token retornado do login\n    if (response.data.csrf) {\n      setCSRFToken(response.data.csrf);\n    }\n    \n    return response.data;\n  },\n\n  logout: async () => {\n    const response = await api.post('/auth/logout/');\n    setCSRFToken(null); // Limpa o token no logout\n    return response.data;\n  },\n\n  checkAuth: async () => {\n    try {\n      const response = await api.get('/auth/check-auth/');\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  },\n\n  changePassword: async (passwords) => {\n    const response = await api.post('/auth/change-password/', passwords);\n    return response.data;\n  },\n\n  getProfile: async () => {\n    const response = await api.get('/auth/profile/');\n    return response.data;\n  },\n\n  listUsers: async () => {\n    const response = await api.get('/auth/users/');\n    return response.data;\n  },\n\n  togglePermission: async (userId, permission) => {\n    const response = await api.post(`/auth/users/${userId}/toggle-permission/`, {\n      perm: permission\n    });\n    return response.data;\n  }\n};\n\n// Serviços para telas protegidas\nexport const screenServices = {\n  tela1: async () => {\n    const response = await api.get('/telas/tela1/');\n    return response.data;\n  },\n\n  tela2: async () => {\n    const response = await api.get('/telas//tela2/');\n    return response.data;\n  },\n\n  tela3: async () => {\n    const response = await api.get('/tela3/');\n    return response.data;\n  },\n\n  suport: async () => {\n    const response = await api.get('/suport/');\n    return response.data;\n  },\n\n  empresas: {\n    list: async () => {\n      const response = await api.get('/empresas/');\n      return response.data;\n    },\n    create: async (data) => {\n      const response = await api.post('/empresas/', data);\n      return response.data;\n    },\n    update: async (id, data) => {\n      const response = await api.put(`/empresas/${id}/`, data);\n      return response.data;\n    },\n    delete: async (id) => {\n      const response = await api.delete(`/empresas/${id}/`);\n      return response.data;\n    }\n  }\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}